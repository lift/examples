<!DOCTYPE html>
<html>

<head>
  <meta content="text/html; charset=UTF-8" http-equiv="content-type" />
  <title>Template</title>
</head>

<body data-lift-content-id="main">
  <div id="main" data-lift="surround?with=default2;at=content">
    <h2>Embed</h2>
    <nav aria-label="breadcrumb" role="navigation">
      <ol class="breadcrumb">
        <li class="breadcrumb-item">
          <a href="index.html">Home</a>
        </li>
        <li class="breadcrumb-item">
          <a href="index.html">Templating</a>
        </li>
        <li class="breadcrumb-item active" aria-current="page">Embed</li>
      </ol>
    </nav>

    <div id="wrappedNoticeAtHead">
      <div data-lift="Msgs"></div>
    </div>

    <p>
      In addition surrounding HTML with a template, you can also embed a template at the current point in the page rendering a
      tag with the
      <code>data-lift='embed?what=...'</code> attribute.
    </p>

    <span data-lift="embed?what=/templating/_sample_embed"></span>

    <p>
      The above paragraph was embedded using this code:
    </p>

    <span class="badge badge-secondary">The Markup</span>
    <pre><code class="html">&lt;span data-lift="embed?what=/templating/_sample_embed"&gt;&lt;/span&gt;</code></pre>

    <p>
      Templates that start with the underscore ('_') or period ('.') characters will not be served directly by Lift, but may be
      accessed using the surround and embed tags.
    </p>

    <p>
      Lift will select templates based on the current localization setting for the session. Lift uses the function in
      <code>LiftRules.localeCalculator</code> to determine the current locale for template selection. By default the function is:
    </p>

    <span class="badge badge-secondary">The
      <i>Lift</i> Scala code</span>
    <pre><code class="scala">def defaultLocaleCalculator(request: Box[HttpServletRequest]) =
    request.flatMap(_.getLocale() match
                    {case null => Empty
                     case l: Locale => Full(l)}).openOr(Locale.getDefault())</code></pre>
    <p>But you can customize the function to return the locale of the currently logged in user, detect the IP address of the
      request, etc.
    </p>

    <p>
      Based on the locale, Lift will look for templates based on the base template name, in this case
      <code>'/templating/_sample_embed'</code> and then append an underscore ('_') followed by the complete locale, for example
      'en_US'. So, Lift will look for
      <code>'/templating/_sample_embed_en_US.html'</code>. If that resource is not available, Lift will look for
      <code>'/templating/_sample_embed_en.html'</code> and finally
      <code>'/templating/_sample_embed.html'</code>.
    </p>
  </div>
</body>

</html>