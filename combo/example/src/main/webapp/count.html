<!DOCTYPE html>
<html>

<head>
    <meta content="text/html; charset=UTF-8" http-equiv="content-type" />
    <title>Template</title>
</head>

<body data-lift-content-id="main">
<div id="main" data-lift="surround?with=default2;at=content">
    <h2><span data-lift="Menu.title">%*%</span></h2>
    <nav aria-label="breadcrumb" role="navigation">
        <ol class="breadcrumb">
            <li class="breadcrumb-item">
                <a href="index.html">Home</a>
            </li>
            <li class="breadcrumb-item">
                <a href="misc.html">Misc code</a>
            </li>
            <li class="breadcrumb-item active" aria-current="page"><span data-lift="Menu.title">%*%</span></li>
        </ol>
    </nav>

    <p>The Number Counting Example</p>
    <p>
      <div data-lift="Count?name=first">The first value is
        <span class="value"></span>
        <span class="incr">Increment</span>
        <span class="decr">Decrement</span>
      </div>
    </p>

    <p>
      <div data-lift="Count?name=second">The second value is
        <span class="value"></span>
        <span class="incr">Increment</span>
        <span class="decr">Decrement</span>
      </div>
    </p>

    <span class="badge badge-secondary">The
        <i>Lift</i> Scala code</span>
    <pre><code class="scala">/**
  * This session variable holds a set of Names and Integers, with a default value
  * of 0 (zero)
  */
object CountHolder extends SessionVar[HashMap[String, Int]](new HashMap[String, Int] {
  override def default(key: String): Int = 0
})

/**
  * This snippet handles counting
  */
class Count {

  /**
    * This method is invoked by the &lt;lift:Count /&gt; tag
    */
  def render = {
    // get the attribute name (the name of the thing to count)
    val attr: String = S.attr("name").openOr("N/A")

    // Get the value from the session variable
    val value = CountHolder.is(attr)

    // Bind the incoming view data and the model data
    ".value" #> Text(value.toString) &
      ".incr" #> link("/count", () => CountHolder.is(attr) = value + 1, Text("++")) &
      ".decr" #> link("/count", () => CountHolder.is(attr) = 0 max (value - 1), Text("--"))
  }
}</code></pre>

</div>
</body>

</html>
