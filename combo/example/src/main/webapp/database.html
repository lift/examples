<!DOCTYPE html>
<html>

<head>
    <meta content="text/html; charset=UTF-8" http-equiv="content-type" />
    <title>Template</title>
</head>

<body data-lift-content-id="main">
    <div id="main" data-lift="surround?with=default2;at=content">
        <h2>Database</h2>
        <nav aria-label="breadcrumb" role="navigation">
            <ol class="breadcrumb">
                <li class="breadcrumb-item">
                    <a href="index.html">Home</a>
                </li>
                <li class="breadcrumb-item">
                    <a href="persistence.html">Persistence</a>
                </li>
                <li class="breadcrumb-item active" aria-current="page">Database</li>
            </ol>
        </nav>

        <div id="wrappedNoticeAtHead">
            <div data-lift="Msgs"></div>
        </div>

        <p>
            <i>Lift</i> allows you to create model objects that map themselves to and from the database. Here's an example of
            a "User" model object.</p>

        object User extends User
        <div data-lift="Database?form=post">
            There are
            <span id="count"></span> records in the "Person" table. The first one is
            <span id="first"></span>. Press
            <button type="submit" class="btn btn-primary"></button> to create more records.
        </div>
        <br>
        <span class="badge badge-secondary">The
            <i>Lift</i> Scala code</span>
        <pre><code class="scala">/**
  * The singleton that has methods for accessing the database
  */
object User extends User with KeyedMetaMapper[Long, User] {
  override def dbTableName = "users" // define the DB table name

  // define the order fields will appear in forms and output
  override lazy val fieldOrder =
    List(id, firstName, lastName, email, password, textArea)
}

/**
  * An O-R mapped "User" class that includes first name, last name,
  * password and we add a "Personal Essay" to it
  */
class User extends ProtoUser[User] {
  def getSingleton = User

  // define an additional field for a personal essay
  object textArea extends MappedTextarea(this, 2048) {
    override def textareaRows = 10
    override def textareaCols = 50
    override def displayName = "Personal Essay"
  }
}</code></pre>

        <p>For this little bit of work, we get a complete user with first name, last name, password, email, and a personal essay.
            Each of the fields knows how to validate itself. The User (and any other "Mapped" class) knows how to Create,
            Update, Read, and Delete itself from the database. It knows how to convert itself to a string, to XML, and even
            generate HTML forms for itself.</p>

    </div>
</body>

</html>