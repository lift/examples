<!DOCTYPE html>
<html>

<head>
    <meta content="text/html; charset=UTF-8" http-equiv="content-type" />
    <title>Template</title>
</head>

<body data-lift-content-id="main">
<div id="main" data-lift="surround?with=default2;at=content">
    <h2><span data-lift="Menu.title">%*%</span></h2>
    <nav aria-label="breadcrumb" role="navigation">
        <ol class="breadcrumb">
            <li class="breadcrumb-item">
                <a href="index.html">Home</a>
            </li>
            <li class="breadcrumb-item">
                <a href="misc.html">Misc code</a>
            </li>
            <li class="breadcrumb-item active" aria-current="page"><span data-lift="Menu.title">%*%</span></li>
        </ol>
    </nav>

<p>
This is the "validation" page.  In order to view any content under /login/*, you
must be validated (logged in.)  This is achieved with the following code in
Boot.scala:
</p>

<p>
<code><![CDATA[
    LiftRules.addDispatchBefore {
         case RequestMatcher(_, ParsePath("login" :: page , _, _),_,_)  if !LoginStuff.is && page.head != "validate" =>
         ignore => Full(RedirectResponse("/login/validate"))
      }
]]>
</code>
</p>

<p>
If the user is not validated/logged in, all pages under /login/* will be directed
to /login/validate.
</p>

<p>
Press the button <button data-lift="ValidateSession">press me</button> to validate the session and access
/login/index.
</p>

</div>
</body>

</html>
